<%- include('../../partials/header.ejs') %>
<body>
<%- include('../../partials/navBar.ejs') %>

<!--inicio container-->
<div class="container">

    <!--    inicio form-->
    <form action="/article/save" method="post" class="row h-100 ">

        <div class="form-group col-12 align-self-center">

            <!--            comeco da area nome to titlo do artigo-->
            <div>
                <label for="" class="form-label display-6">Titulo</label>
                <input type="text" name="title" placeholder="Defina o titulo do artigo"
                       class="form-control form-control-lg">
            </div>
            <!--            fim da area nome to titlo do artigo-->

            <!--            comeco selecao da categoria-->
            <div class="mt-3">
                <label for="" class="form-label">Categoria do artigo</label>
                <select class="form-select w-25 " name="categoryId">
                    <% categories.forEach(function (category) { %>
                        <option value="<%= category.id %>"> <%= category.title %></option>
                    <% }) %>

                </select>
            </div>
            <!--            fim selecao categoria-->

            <!--            comeco texto do artigo-->
            <div class="mt-3">
                <label for="" class="form-label">Texto</label>
                <textarea class="form-control" id="article" name="body"></textarea>
            </div>
            <!--            fim do texto do arquivo-->

            <button class="btn btn-success w-25 mt-3">Cadastrar</button>
        </div>

    </form>
    <!--    fim form-->
</div>
<!--fim container-->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="/tinymce/tinymce.min.js"></script>
<script src="/tinymce/jquery.tinymce.min.js"></script>


<script>
    const useDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
    $(function () {
        $('textarea#article').tinymce({
            height: 500,
            menubar: true,
            plugins: ['advlist autolink link image lists print preview hr searchreplace wordcount emoticons fullscreen insertdatetime media save table paste '],
            skin: useDarkMode ? 'oxide-dark' : 'oxide',
            content_css: useDarkMode ? 'dark' : 'default'
        })
    })

</script>

<%- include('../../partials/footer.ejs') %>
